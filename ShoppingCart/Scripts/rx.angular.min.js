(function(n,t){var r={boolean:!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},n=r[typeof window]&&window||this,u=r[typeof exports]&&exports&&!exports.nodeType&&exports,f=r[typeof module]&&module&&!module.nodeType&&module,e=f&&f.exports===u&&u,i=r[typeof global]&&global;i&&(i.global===i||i.window===i)&&(n=i);typeof define=="function"&&define.amd?define(["rx","angular","exports"],function(i,r,u){return n.Rx=t(n,u,i,r),n.Rx}):typeof module=="object"&&module&&module.exports==u?module.exports=t(n,module.exports,require("rx"),require("angular")):n.Rx=t(n,{},n.Rx,n.angular)})(this,function(n,t,i,r){var o=i.Observable,s=o.prototype,e=o.create,h=i.Disposable.create,u=i.SingleAssignmentDisposable,l=i.CompositeDisposable,c=i.AnonymousObservable,a=i.Scheduler,v=null,b=Object.prototype.toString,y=Array.prototype.slice,f=r.module("rx",[]),p,w;return f.factory("rx",["$window",function(n){return n.Rx||(n.Rx=i),n.Rx}]),f.factory("observeOnScope",["rx",function(n){return function(t,i,r){return n.Observable.create(function(n){function u(t,i){n.onNext({oldValue:i,newValue:t})}return t.$watch(i,u,r)})}}]),s.safeApply=function(n,t){return t=r.isFunction(t)?t:v,this["do"](function(i){n.$$phase||n.$root.$$phase?t(i):n.$apply(function(){t(i)})})},f.config(["$provide",function(n){n.decorator("$rootScope",["$delegate",function(n){return Object.defineProperties(n.constructor.prototype,{$toObservable:{value:function(n,t){var r=this;return e(function(u){function e(n,t){u.onNext({oldValue:t,newValue:n})}var f=i.Disposable.create(r.$watch(n,e,t));return r.$on("$destroy",function(){f.dispose()}),f}).publish().refCount()},enumerable:!1,configurable:!0,writable:!0},$eventToObservable:{value:function(n){var t=this;return e(function(i){function u(){i.onNext({event:arguments[0],additionalArguments:y.call(arguments,1)})}var r=h(t.$on(n,u));return t.$on("$destroy",function(){r.isDisposed||r.dispose()}),r}).publish().refCount()},enumerable:!1,configurable:!0,writable:!0},$createObservableFunction:{value:function(n,t){var i=this;return e(function(r){return i[n]=function(){if(t)r.onNext(t.apply(this,arguments));else if(arguments.length===1)r.onNext(arguments[0]);else r.onNext(arguments)},function(){delete i[n]}}).publish().refCount()},enumerable:!1,configurable:!0,writable:!0},$digestObservables:{value:function(n){var t=this;return r.map(n,function(n,i){return n.digest(t,i)}).publish().refCount()},enumerable:!1,configurable:!0,writable:!0}}),n}])}]),f.run(["$parse",function(n){s.digest=function(t,i){var r=this;return new c(function(f){var o=n(i).assign,e=new u;return e.setDisposable(r.subscribe(function(n){t.$$phase?o(t,n):t.$apply(o(t,n))},f.onError.bind(f),f.onCompleted.bind(f))),t.$on("$destroy",e.dispose.bind(e)),e})}}]),p=i.ScopeScheduler=function(){function r(t,i){var f=this,r=new u;return n(r,f,i,t),r}function f(t,r,f){var o=this,s=i.Scheduler.normalize(r),e,c;return s===0?o.scheduleWithState(t,f):(e=new u,c=setTimeout(function(){n(e,o,f,t)},s),new l(e,h(function(){clearTimeout(c)})))}function n(n,t,i,r){function u(){n.isDisposed||n.setDisposable(i(t,r))}t._scope.$$phase||t._scope.$root.$$phase?u():t._scope.$apply(u)}function e(n,t,i){return this.scheduleWithRelativeAndState(n,t-this.now(),i)}var t=Date.now||+new Date;return function(n){var i=new a(t,r,f,e);return i._scope=n,i}}(),w=i.manageScope=function(n){return function(t){var r=t;return new c(function(t){var f=new u,e=i.ScopeScheduler(n);return f.setDisposable(r.observeOn(e).subscribe(t.onNext.bind(t),t.onError.bind(t),t.onCompleted.bind(t))),n.$on("$destroy",function(){f.dispose();delete f}),f})}},i});
//# sourceMappingURL=rx.angular.min.js.map
